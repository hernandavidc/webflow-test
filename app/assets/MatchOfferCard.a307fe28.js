import{d as G,av as H,ai as i,ah as I,r as K,g as W,o as m,b as d,i as s,aw as B,s as u,t as h,ao as r,h as C,q as Y,aa as R,e as x,k as X,ab as J,ac as Z,n as tt}from"./vendor.c113d557.js";import{b as at}from"./bootstrap.bundle.min.65351b1f.js";import{h as et}from"./moment.08a7f518.js";var k;(function(t){t[t.Opportunity=0]="Opportunity",t[t.Interview=1]="Interview",t[t.Archived=2]="Archived"})(k||(k={}));var j;(function(t){t[t.DECLINED_BY_JOBGETHER=-2]="DECLINED_BY_JOBGETHER",t[t.DECLINE=-1]="DECLINE",t[t.NEUTRAL=0]="NEUTRAL",t[t.ACCEPT=1]="ACCEPT",t[t.SENT=3]="SENT"})(j||(j={}));var A;(function(t){t[t.REJECTED=-2]="REJECTED",t[t.REJECTED_BY_QA=-1]="REJECTED_BY_QA",t[t.NEUTRAL=0]="NEUTRAL",t[t.INTERESTED=1]="INTERESTED"})(A||(A={}));var y;(function(t){t[t.NEUTRAL=0]="NEUTRAL",t[t.INTERESTED=1]="INTERESTED",t[t.NOT_INTERESTED=2]="NOT_INTERESTED"})(y||(y={}));const st=["id"],ot={class:"row mx-0"},ct={class:"col-9 pt-3 pb-2"},nt={class:"d-flex px-2"},rt={class:"flex-grow-1"},it={class:"mb-2 fs-20"},lt=s("span",{class:"bg-light-yellow me-2 p-1 rounded-8 fs-14"}," 92% Flex ",-1),ft={class:"fs-12"},mt=s("em",{class:"fas fa-heart ms-3 fs-20 mb-n1 text-blue-app"},null,-1),dt=[mt],ht=s("em",{class:"far fa-heart ms-3 fs-20 mb-n1"},null,-1),_t=[ht],ut={class:"px-2"},Et={class:"mb-2 fw-light"},pt=s("span",{class:"bg-blue-app-20 me-2 p-1 rounded-8 fs-14 fw-500"},[s("em",{class:"fas fa-star"}),u(" Top flex ")],-1),vt={class:"d-flex px-2 mb-1"},bt={class:"flex-grow-1 offer-content pt-1"},Ot=["data-bs-content"],gt=["data-bs-content"],Nt={key:0},Dt={key:1},kt={class:"mt-n1"},Tt={class:"matching d-none"},Ct={class:"me-2 matching__text d-none d-sm-inline"},At=["data-bs-content"],Rt={key:1,class:"fas fa-lock"},xt=u(" % "),Lt=G({props:{matchOffer:null,matchOfferType:null,user:null},emits:["click","validate","archive","unarchive","acceptInterview"],setup(t,{emit:U}){const a=t,E=H();let w=i(()=>E.state.talent.favoriteData),P=i(()=>E.state.talent.profileData._id);i(()=>E.state.auth.accessToken),I(()=>{Array.from(document.querySelectorAll(`#match-offer-card-${a.matchOffer.id} [data-bs-toggle="popover"]`)).forEach(e=>new at.exports.Popover(e))});const F=i(()=>{var o,n;let e="";switch((n=(o=a.matchOffer)==null?void 0:o.meta)==null?void 0:n.currency){case"EUR":e="euro-sign";break;case"USD":e="dollar-sign";break;default:e="question"}return e}),T=i(()=>{var e;return((e=a.matchOffer)==null?void 0:e.meta.contractType)?a.matchOffer.meta.contractType:"N/A"}),V=i(()=>{var o,n,l,f,_,p,v,b,O,g,N,D;let e="";return((n=(o=a.matchOffer)==null?void 0:o.meta)==null?void 0:n.salary)&&((_=(f=(l=a.matchOffer)==null?void 0:l.meta)==null?void 0:f.salary)==null?void 0:_.min)&&((b=(v=(p=a.matchOffer)==null?void 0:p.meta)==null?void 0:v.salary)==null?void 0:b.max)?e=`${((g=(O=a.matchOffer.meta)==null?void 0:O.salary)==null?void 0:g.min)/1e3} - ${((D=(N=a.matchOffer.meta)==null?void 0:N.salary)==null?void 0:D.max)/1e3}K`:e="N/A",e}),q=i(()=>{let e=!1;return a.matchOfferType==k.Opportunity&&(e=a.matchOffer.companyInterest==A.REJECTED||a.matchOffer.companyInterest==A.REJECTED_BY_QA||a.matchOffer.userInterest==y.NOT_INTERESTED||a.matchOffer.archived==!0),a.matchOfferType==k.Interview&&(e=!1),a.matchOfferType==k.Archived&&(e=a.matchOffer.archived==!0),e}),M=i(()=>`opacity: ${a.matchOffer.percentage}%`);i(()=>{var o,n,l,f;let e="";return a.matchOffer.meta.locations&&((o=a.matchOffer.meta.locations)==null?void 0:o.length)!=0?(e=(f=(l=(n=a.matchOffer)==null?void 0:n.meta)==null?void 0:l.locations)==null?void 0:f.map(_=>_.name).join(", "),e):"N/A"});function Q(){U("click",a.matchOffer)}function $(){let e={id:P.value,fav_id:a.matchOffer._id};E.commit("talent/setProfileFavoritesMutation",a.matchOffer._id),E.dispatch("talent/updateProfileFavorites",e)}return(e,o)=>{var f,_,p,v,b,O,g,N,D,L,S;const n=K("font-awesome-icon"),l=W("t");return m(),d("div",{class:tt(["card match-card shadow-sm w-100 clickable p-0",{disabled:r(q)}]),onClick:o[3]||(o[3]=c=>Q()),id:`match-offer-card-${a.matchOffer._id}`},[s("div",ot,[s("div",{class:"col-3 border-end p-4 card-image",style:B({"background-image":((p=(_=(f=t.matchOffer)==null?void 0:f.company)==null?void 0:_.meta)==null?void 0:p.picture)?`url(${(O=(b=(v=t.matchOffer)==null?void 0:v.company)==null?void 0:b.meta)==null?void 0:O.picture})`:""})},null,4),s("div",ct,[s("div",nt,[s("div",rt,[s("h4",it,[u(h(t.matchOffer.title)+" ",1),lt])]),s("div",null,[s("p",null,[s("span",ft,h(r(et)(t.matchOffer.updated_at).format("DD/MM/YYYY")),1),C(s("div",{class:"fav_icon",onClick:o[0]||(o[0]=R(c=>$(),["stop"]))},dt,512),[[Y,r(w).some(c=>c==a.matchOffer._id)]]),C(s("div",{class:"fav_icon",onClick:o[1]||(o[1]=R(c=>$(),["stop"]))},_t,512),[[Y,!r(w).some(c=>c==a.matchOffer._id)]])])])]),s("div",ut,[s("p",Et,[u(h((N=(g=t.matchOffer)==null?void 0:g.company)==null?void 0:N.name)+" ",1),pt])]),s("div",vt,[s("div",bt,[s("ul",{class:"icon-list mt-0",onClick:o[2]||(o[2]=R(()=>{},["stop"]))},[t.matchOffer.meta.locations?(m(),d("li",{key:0,"data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":((D=t.matchOffer)==null?void 0:D.meta.locations)?(S=(L=t.matchOffer)==null?void 0:L.meta.locations.map(c=>c.name))==null?void 0:S.join(", "):"N/A"},[x(n,{icon:"map-marker-alt",class:"text-dark-gray"}),u(" "+h(t.matchOffer.meta.locations.map(c=>c.name).slice(0,3).join(","))+"... ",1)],8,Ot)):X("",!0),s("li",{"data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":e.$t(`dashboard.opportunities.contractType.${r(T)}`)},[x(n,{icon:"file-alt",class:"text-dark-gray"}),r(T)!="N/A"?(m(),d("span",Nt,h(e.$t(`dashboard.opportunities.contractType.${r(T)}`).split(" ").map(c=>c.charAt(0).toUpperCase()).join("")),1)):(m(),d("span",Dt,h(r(T)),1))],8,gt),s("li",null,[x(n,{icon:r(F),class:"text-dark-gray"},null,8,["icon"]),u(" "+h(r(V)),1)])])]),s("div",kt,[(m(!0),d(J,null,Z(t.matchOffer.meta.remote,(c,z)=>C((m(),d("span",{key:z,class:"badge rounded-pill border border-2 me-2 py-2 text-blue-app fw-500"},null,512)),[[l,`widget.matchOfferCard.${c}`]])),128)),s("div",Tt,[C(s("span",Ct,null,512),[[l,"widget.matchOfferCard.matching"]]),s("span",{class:"matching__percent-4","data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":e.$t("widget.matchOfferCard.matching-popover"),style:B(r(M))},[t.user?(m(),d(J,{key:0},[u(h(t.matchOffer.percentage),1)],64)):(m(),d("i",Rt)),xt],12,At)])])])])])],10,st)}}});export{A as C,j as I,k as M,y as U,Lt as _};
