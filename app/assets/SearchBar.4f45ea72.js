import{d as X,u as Y,au as Z,an as w,ao as k,z as ee,D as se,y as oe,f as L,o as m,b as u,h as s,g as r,e as te,w as N,t as j,av as n,aw as q,ax as E,n as B,ay as z,al as R,am as T,j as F,s as $,az as le,aA as ae,F as M}from"./vendor.3251509c.js";import{S as O}from"./simplebar.8ed4e6f3.js";import{a as ne}from"./index.fa68af91.js";import{D as re}from"./DropdownVanilla.b5e5fab4.js";const y=v=>(le("data-v-2e84d74b"),v=v(),ae(),v),ce={id:"search-bar",class:"w-100 bg-white border-0 p-3 rounded-12 fs-14"},ie={class:"row"},de={class:"col-12 col-lg-11"},_e={class:"row mx-0"},me={class:"col-12 col-md-6 col-lg-4"},ue={class:"fw-medium mb-2"},pe={class:"position-relative right-bar"},he={class:"",style:{"padding-top":"12px","padding-bottom":"12px"}},fe={class:"bg-white"},be={class:"mb-1"},ge=$(),ve=y(()=>s("br",null,null,-1)),we={class:"fs-10"},ye={class:"mb-1"},Se=$(),xe=y(()=>s("br",null,null,-1)),ke={class:"fs-10"},je={class:"mb-1"},Be=$(),$e=y(()=>s("br",null,null,-1)),Ce={class:"fs-10"},De={class:"col-12 col-md-6 col-lg-4"},Ve={class:"position-relative"},Ae={class:"fw-medium mb-2"},Ie={class:"position-relative right-bar"},Le=["placeholder","disabled"],Ne={key:0,class:"position-relative"},qe={class:"dropdown-menu w-100 show","aria-labelledby":"btn_search"},Ee=["onClick"],ze={class:"col-12 col-md-6 col-lg-4 offset-md-3 offset-lg-0 mt-md-2 mt-lg-0"},Re={class:"position-relative"},Te={class:"fw-medium mb-2"},Fe=["placeholder"],Me={key:0,class:"position-relative"},Oe={class:"dropdown-menu w-100 show","aria-labelledby":"btn_search"},Ue=["onClick"],Je={class:"col-12 col-md-4 col-lg-1 offset-md-4 offset-lg-0 mt-3 mt-lg-0 px-4 px-md-3 d-flex align-items-end search_button_container"},Ge={class:"d-lg-none"},He=y(()=>s("i",{class:"ms-2 ms-lg-0 fas fa-search fs-20 align-middle"},null,-1)),Ke=X({setup(v){const U=Y();Z();const S=w(null),f=w(null);let o=k({remote:"",location:{name:"",model:"",id:""},job_reference:{name:"",id:""}}),b=window.localStorage.getItem("userLang"),c="";b?c=b:(b=navigator.language,b.includes("es")?c="es":b.includes("fr")?c="fr":c="en"),ee(()=>{const e=[].slice.call(document.querySelectorAll(".search-bar__dropdown-toggle"));console.log(e),e.map(function(t){return new se(t)})});const C=oe(()=>o.remote=="nomad"&&o.job_reference.id!=""||o.remote!=""&&o.location.id!=""&&o.job_reference.id!=""),J=()=>{var e;o.remote="nomad",o.location.name="",o.location.id="",f.value&&((e=f.value)==null||e.focus())},D=e=>{var t;o.remote=e,S.value&&((t=S.value)==null||t.focus())};let d=w(""),p=k([]);const G=()=>{const e=`locations/searchLocation/${d.value}`;p.splice(0),d.value.length>2&&M.get(e,{params:{lang:c}}).then(t=>{const l=t.data;p.push(...l)}).then(()=>{Array.prototype.forEach.call(document.querySelectorAll(".custom-scroll"),t=>new O(t))})},H=(e,t)=>{var g,a,i,x;console.log(e);let l="";return e.region?l=`${(a=(g=e==null?void 0:e.region)==null?void 0:g.country)==null?void 0:a.name}, ${(i=e==null?void 0:e.region)==null?void 0:i.name}, ${e==null?void 0:e.name}`:e.country?l=`${(x=e==null?void 0:e.country)==null?void 0:x.name}, ${e==null?void 0:e.name}`:l=e==null?void 0:e.name,l},V=()=>{d.value="",p.splice(0)},K=(e,t)=>{var l;o.location.name=e.name,o.location.id=e._id,e.region||e.country||e.continent,o.location.model="locations",V(),f.value&&((l=f.value)==null||l.focus())};let _=w(""),h=k([]);const P=()=>{const e=`job-reference/searchJobreference/${_.value}`;h.splice(0),_.value.length>2&&M.get(e,{params:{lang:c}}).then(t=>{const l=t.data;h.push(...l)}).then(()=>{Array.prototype.forEach.call(document.querySelectorAll(".custom-scroll"),t=>new O(t))})},A=e=>{let t="";return c=="fr"?t=e.name_fr:c=="es"?t=e.name_es:t=e.name_en,t},I=()=>{_.value="",h.splice(0)},Q=e=>{o.job_reference.name=A(e),o.job_reference.id=e._id,I()},W=()=>{if(C.value){const e={};o.remote!=""&&(e.remote=o.remote),o.job_reference.id!=""&&(e.job_reference=o.job_reference.id),o.location.id!=""&&o.location.model!=""&&(e[o.location.model]=o.location.id),U.push({name:"TalentOpportunities",query:e})}};return(e,t)=>{const l=L("t"),g=L("debounce");return m(),u("div",ce,[s("div",ie,[s("div",de,[s("div",_e,[s("div",me,[r(s("p",ue,null,512),[[l,"SearchBar.remote.title"]]),s("div",pe,[te(re,null,{dropdown_btn:N(()=>[s("div",he,[s("span",null,j(n(o).remote==""?e.$t("SearchBar.remote.select"):e.$t(`SearchBar.remote.${n(o).remote}_title`)),1)])]),dropdown_li:N(()=>[s("ul",fe,[s("li",{class:"clickable break-spaces dropdown-item fs-14 my-2 rounded mt-1",onClick:t[0]||(t[0]=a=>D("full_remote"))},[r(s("span",be,null,512),[[l,"SearchBar.remote.full_remote_title"]]),ge,ve,r(s("span",we,null,512),[[l,"SearchBar.remote.full_remote_sub-title"]])]),s("li",{class:"clickable break-spaces dropdown-item fs-14 mb-2 rounded",onClick:t[1]||(t[1]=a=>D("hybrid"))},[r(s("span",ye,null,512),[[l,"SearchBar.remote.hybrid_title"]]),Se,xe,r(s("span",ke,null,512),[[l,"SearchBar.remote.hybrid_sub-title"]])]),s("li",{class:"clickable break-spaces dropdown-item fs-14 mb-2 rounded",onClick:J},[r(s("span",je,null,512),[[l,"SearchBar.remote.nomad_title"]]),Be,$e,r(s("span",Ce,null,512),[[l,"SearchBar.remote.nomad_sub-title"]])])])]),_:1})])]),s("div",De,[s("div",Ve,[r(s("p",Ae,null,512),[[l,"SearchBar.location.title"]]),s("div",Ie,[r(s("input",{type:"text",id:"location-search",ref:(a,i)=>{i.location_input=a,S.value=a},"onUpdate:modelValue":t[2]||(t[2]=a=>E(d)?d.value=a:d=a),style:{"padding-top":"12px","padding-bottom":"12px"},class:"form-control searchable-list__input",autocomplete:"off",placeholder:n(o).location.name==""?e.$t("SearchBar.location.select"):n(o).location.name,disabled:n(o).remote=="nomad"},null,8,Le),[[q,n(d)],[g,G,"500ms"]])]),s("div",{class:B(["position-absolute custom-scroll w-100",{h_0:n(p).length<=0}])},[n(p).length>0?r((m(),u("div",Ne,[s("ul",qe,[(m(!0),u(R,null,T(n(p),(a,i)=>(m(),u("li",{class:"clickable break-spaces dropdown-item fs-14 mb-0",onClick:x=>K(a)},[s("span",null,j(H(a)),1)],8,Ee))),256))])],512)),[[n(z.exports.directive),V]]):F("",!0)],2)])]),s("div",ze,[s("div",Re,[r(s("p",Te,null,512),[[l,"SearchBar.job_reference.title"]]),r(s("input",{type:"text",id:"job_reference-search",ref:(a,i)=>{i.job_reference_input=a,f.value=a},"onUpdate:modelValue":t[3]||(t[3]=a=>E(_)?_.value=a:_=a),style:{"padding-top":"12px","padding-bottom":"12px"},class:"form-control searchable-list__input",autocomplete:"off",placeholder:n(o).job_reference.name==""?e.$t("SearchBar.job_reference.select"):n(o).job_reference.name},null,8,Fe),[[q,n(_)],[g,P,"500ms"]]),s("div",{class:B(["position-absolute custom-scroll w-100",{h_0:n(h).length<=0}])},[n(h).length>0?r((m(),u("div",Me,[s("ul",Oe,[(m(!0),u(R,null,T(n(h),a=>(m(),u("li",{class:"clickable break-spaces dropdown-item fs-14 mb-0",onClick:i=>Q(a)},[s("span",null,j(A(a)),1)],8,Ue))),256))])],512)),[[n(z.exports.directive),I]]):F("",!0)],2)])])])]),s("div",Je,[s("button",{type:"button",class:B(["btn text-white bg-green-app w-100 px-2 py-2 search-bar-button",{disabled:!n(C)}]),style:{height:"47px"},onClick:W},[r(s("span",Ge,null,512),[[l,"SearchBar.search_button"]]),He],2)])])])}}});var Ye=ne(Ke,[["__scopeId","data-v-2e84d74b"]]);export{Ye as S};
