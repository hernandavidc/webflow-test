var ve=Object.defineProperty,Oe=Object.defineProperties;var ke=Object.getOwnPropertyDescriptors;var ue=Object.getOwnPropertySymbols;var Se=Object.prototype.hasOwnProperty,qe=Object.prototype.propertyIsEnumerable;var pe=(e,s,n)=>s in e?ve(e,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[s]=n,V=(e,s)=>{for(var n in s||(s={}))Se.call(s,n)&&pe(e,n,s[n]);if(ue)for(var n of ue(s))qe.call(s,n)&&pe(e,n,s[n]);return e},ie=(e,s)=>Oe(e,ke(s));import{d as w,am as Ee,ai as N,ah as he,r as j,e as C,o,f as d,i as t,an as fe,s as R,t as b,ao as _,h as c,q as $,aa as Z,k as A,g as O,ab as S,n as ee,l as we,ap as K,ae as W,j as x,w as I,ac as T,v as je,aq as Ae,m as te,ar as le,as as se,p as _e}from"./vendor.c408dfb7.js";import{b as Le}from"./bootstrap.bundle.min.b57834de.js";import{h as Ce}from"./moment.08a7f518.js";import{r as me,a as U}from"./index.ebde0ad5.js";import{g as ge}from"./utils.1fce72cf.js";import{D as Te}from"./bootstrap.esm.5b5e0dd6.js";import{S as ye}from"./simplebar.347723c8.js";var M;(function(e){e[e.Opportunity=0]="Opportunity",e[e.Interview=1]="Interview",e[e.Archived=2]="Archived"})(M||(M={}));var be;(function(e){e[e.DECLINED_BY_JOBGETHER=-2]="DECLINED_BY_JOBGETHER",e[e.DECLINE=-1]="DECLINE",e[e.NEUTRAL=0]="NEUTRAL",e[e.ACCEPT=1]="ACCEPT",e[e.SENT=3]="SENT"})(be||(be={}));var ne;(function(e){e[e.REJECTED=-2]="REJECTED",e[e.REJECTED_BY_QA=-1]="REJECTED_BY_QA",e[e.NEUTRAL=0]="NEUTRAL",e[e.INTERESTED=1]="INTERESTED"})(ne||(ne={}));var oe;(function(e){e[e.NEUTRAL=0]="NEUTRAL",e[e.INTERESTED=1]="INTERESTED",e[e.NOT_INTERESTED=2]="NOT_INTERESTED"})(oe||(oe={}));const De={additional_parental_leave:!1,child_care_assistance:!1,daily_lunch_meal_card:!1,digital_coaching:!1,extra_holidays:!1,four_day_week:!1,full_remote:!1,gym_reimbursement:!1,international_insurance:!1,long_remote_period:!1,mentorship_programs:!1,mobility_allowance:!1,open_to_long_term_freelancing:!1,open_to_part_time:!1,open_to_slashing:!1,parental_perks:!1,pet_friendly:!1,private_health_insurance:!1,private_pension:!1,remote_allowance:!1,seasonal_social_events:!1,time_to_work_on_a_side_project:!1,tuition_reimbursement:!1,unlimited_holidays:!1,wellness_program:!1};const Ne=["id"],Re={class:"row mx-0"},Ie={class:"col-9 pt-3 pb-2"},xe={class:"d-flex px-2"},Fe={class:"flex-grow-1 pb-2"},Qe={class:"mb-1 fs-20"},Ue={class:"bg-light-yellow me-2 p-1 rounded-8 fs-14"},Be={class:"d-flex align-items-center mb-0"},Ve={class:"fs-12"},Me={key:0,class:"fav_group_icon"},Je=t("em",{class:"fas fa-heart ms-3 fs-20 mb-n1 text-blue-app"},null,-1),Ye=[Je],Pe=t("em",{class:"far fa-heart ms-3 fs-20 mb-n1"},null,-1),ze=[Pe],He={key:1,class:"archived_group_icon"},Ge=["data-bs-content"],Ke={class:"px-2"},We={class:"mb-1 fw-light"},Xe=t("span",{class:"bg-blue-app-20 me-2 px-2 py-1 rounded-8 fs-14 fw-500 ms-2"},[t("em",{class:"fas fa-star"}),R(" Top flex ")],-1),Ze={class:"d-flex px-2 mb-1"},et={class:"flex-grow-1 offer-content pt-1"},tt={key:0,"data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom"},st=["data-bs-content"],nt={key:2},at={class:"mt-n1"},it=["data-bs-content"],lt={key:1,class:"badge rounded-pill border border-2 me-2 py-2 text-blue-app fw-500"},ot=["data-bs-content"],rt={key:3,class:"badge rounded-pill border border-2 me-2 py-2 text-blue-app fw-500"},ct={class:"matching d-none"},dt={class:"me-2 matching__text d-none d-sm-inline"},ut=["data-bs-content"],pt={key:1,class:"fas fa-lock"},ht=R(" % "),ft=w({props:{matchOffer:null,matchOfferType:null,user:null,is_archived_view:null,query_api:null},emits:["click","validate","archive","unarchive","acceptInterview","favorite","goTo"],setup(e,{emit:s}){const n=e,a=Ee();let h=N(()=>a.state.auth.userData.favorites?a.state.auth.userData.favorites:[]),f=N(()=>a.state.auth.userData._id),m=N(()=>a.state.auth.accessToken),u=N(()=>{var y;let p=[];if(((y=n.query_api)==null?void 0:y.flexibility)&&(p=n.query_api.flexibility.filter(v=>{var q,k;return(k=(q=n.matchOffer)==null?void 0:q.company)==null?void 0:k.meta[v]})),p.length==0){let v=Object.keys(De).filter(q=>{var k,L;return(L=(k=n.matchOffer)==null?void 0:k.company)==null?void 0:L.meta[q]});if(v.length>0){let q=ge(0,v.length-1);p=[v[q-1]]}}return p}),l=N(()=>{var y,v,q;let p=[];if(((y=n.query_api)==null?void 0:y.remote)&&(p=n.query_api.remote.filter(k=>{var L;return(L=n.matchOffer)==null?void 0:L.meta.remote.some(B=>B==k)})),p.length==0){let k=(q=(v=n.matchOffer)==null?void 0:v.meta)==null?void 0:q.remote;if(k.length>0){let L=ge(0,k.length-1);p=[k[L-1]]}}return p});he(()=>{Array.from(document.querySelectorAll(`#match-offer-card-${n.matchOffer._id} [data-bs-toggle="popover"]`)).forEach(y=>new Le.exports.Popover(y));let p=document.getElementById("myPopover");p==null||p.addEventListener("hidden.bs.popover",function(){})});const i=N(()=>{var y,v;let p="";switch((v=(y=n.matchOffer)==null?void 0:y.meta)==null?void 0:v.currency){case"EUR":p="euro-sign";break;case"USD":p="dollar-sign";break;default:p="question"}return p}),r=N(()=>{var p,y,v;return((y=(p=n.matchOffer)==null?void 0:p.meta)==null?void 0:y.contractType)?(v=n.matchOffer.meta)==null?void 0:v.contractType:""}),g=N(()=>{var y,v,q,k,L,B,J,Y,P,z,H,G;let p="";return((v=(y=n.matchOffer)==null?void 0:y.meta)==null?void 0:v.salary)&&((L=(k=(q=n.matchOffer)==null?void 0:q.meta)==null?void 0:k.salary)==null?void 0:L.min)&&((Y=(J=(B=n.matchOffer)==null?void 0:B.meta)==null?void 0:J.salary)==null?void 0:Y.max)&&(p=`${((z=(P=n.matchOffer.meta)==null?void 0:P.salary)==null?void 0:z.min)/1e3} - ${((G=(H=n.matchOffer.meta)==null?void 0:H.salary)==null?void 0:G.max)/1e3}K`),p}),E=N(()=>{let p=!1;return n.matchOfferType==M.Opportunity&&(p=n.matchOffer.companyInterest==ne.REJECTED||n.matchOffer.companyInterest==ne.REJECTED_BY_QA||n.matchOffer.userInterest==oe.NOT_INTERESTED||n.matchOffer.archived==!0),n.matchOfferType==M.Interview&&(p=!1),n.matchOfferType==M.Archived&&(p=n.matchOffer.archived==!0),p}),Q=N(()=>`opacity: ${n.matchOffer.percentage}%`);N(()=>{var y,v,q,k;let p="";return n.matchOffer.meta.locations&&((y=n.matchOffer.meta.locations)==null?void 0:y.length)!=0?(p=(k=(q=(v=n.matchOffer)==null?void 0:v.meta)==null?void 0:q.locations)==null?void 0:k.map(L=>L.name).join(", "),p):"N/A"});function ae(){s("click",n.matchOffer)}function re(){if(m){let p={id:f.value,type:"favorites",value:n.matchOffer._id};a.commit("auth/update_user_data_array",p),a.dispatch("talent/update_profile_favorites",p)}else me.push({name:"TalentLogin"})}function $e(){if(m){let p={id:f.value,type:"archived_offers",value:n.matchOffer._id};a.commit("auth/update_user_data_array",p),a.dispatch("talent/update_profile_archived_offers",p)}else me.push({name:"TalentLogin"})}return(p,y)=>{var k,L,B,J,Y,P,z,H,G,ce,de;const v=j("font-awesome-icon"),q=C("t");return o(),d("div",{class:ee(["card match-card shadow-sm w-100 clickable p-0",{disabled:_(E)}]),onClick:y[4]||(y[4]=D=>ae()),id:`match-offer-card-${n.matchOffer._id}`},[t("div",Re,[t("div",{class:"col-3 border-end p-4 card-image",style:fe({"background-image":((B=(L=(k=e.matchOffer)==null?void 0:k.company)==null?void 0:L.meta)==null?void 0:B.picture)?`url(${(P=(Y=(J=e.matchOffer)==null?void 0:J.company)==null?void 0:Y.meta)==null?void 0:P.picture})`:""})},null,4),t("div",Ie,[t("div",xe,[t("div",Fe,[t("h4",Qe,[R(b(e.matchOffer.title)+" ",1),t("span",Ue,b(e.matchOffer.company.meta.flex_score?e.matchOffer.company.meta.flex_score:0)+"% Flex ",1)])]),t("div",null,[t("p",Be,[t("span",Ve,b(_(Ce)(e.matchOffer.updated_at).format("DD/MM/YYYY")),1),e.is_archived_view?A("",!0):(o(),d("div",Me,[c(t("div",{class:"fav_icon",onClick:y[0]||(y[0]=Z(D=>re(),["stop"]))},Ye,512),[[$,_(h).some(D=>D==n.matchOffer._id)]]),c(t("div",{class:"fav_icon",onClick:y[1]||(y[1]=Z(D=>re(),["stop"]))},ze,512),[[$,!_(h).some(D=>D==n.matchOffer._id)]])])),e.is_archived_view?(o(),d("div",He,[t("span",{class:"ms-2 py-1 badge bg-light-blue clickable undo_archive","data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"top","data-bs-content":p.$t("widget.matchOfferCard.unarchive"),onClick:y[2]||(y[2]=Z(D=>$e(),["stop"]))},[O(v,{icon:"undo",class:"mr-1 text-primary"})],8,Ge)])):A("",!0)])])]),t("div",Ke,[t("p",We,[R(b((H=(z=e.matchOffer)==null?void 0:z.company)==null?void 0:H.name)+" ",1),Xe])]),t("div",Ze,[t("div",et,[t("ul",{class:"icon-list mt-0",onClick:y[3]||(y[3]=Z(()=>{},["stop"]))},[((G=e.matchOffer.meta)==null?void 0:G.location)?(o(),d("li",tt,[O(v,{icon:"map-marker-alt",class:"text-dark-gray"}),t("span",null,b((de=(ce=e.matchOffer.meta)==null?void 0:ce.location)==null?void 0:de.name),1)])):A("",!0),_(r)!=""?(o(),d("li",{key:1,"data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":p.$t(`dashboard.opportunities.contractType.${_(r)}`)},[O(v,{icon:"file-alt",class:"text-dark-gray"}),t("span",null,b(p.$t(`dashboard.opportunities.contractType.${_(r)}`).split(" ").map(D=>D.charAt(0).toUpperCase()).join("")),1)],8,st)):A("",!0),_(g)!=""?(o(),d("li",nt,[O(v,{icon:_(i),class:"text-dark-gray"},null,8,["icon"]),R(" "+b(_(g)),1)])):A("",!0)])]),t("div",at,[_(l).length>1?(o(),d("span",{key:0,"data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":_(l).map(D=>p.$t(`searchEngine.filters.remote.${D}`)),class:"badge rounded-pill border border-2 me-2 py-2 text-blue-app fw-500"},"+2",8,it)):_(l).length==1?c((o(),d("span",lt,null,512)),[[q,`searchEngine.filters.remote.${_(l)[0]}`]]):A("",!0),_(u).length>1?(o(),d("span",{key:2,"data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":_(u).map(D=>p.$t(`searchEngine.filters.flexibility.${D}`)),class:"badge rounded-pill border border-2 me-2 py-2 text-blue-app fw-500"},"+2",8,ot)):_(u).length==1?c((o(),d("span",rt,null,512)),[[q,`searchEngine.filters.flexibility.${_(u)[0]}`]]):A("",!0),t("div",ct,[c(t("span",dt,null,512),[[q,"widget.matchOfferCard.matching"]]),t("span",{class:"matching__percent-4","data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":p.$t("widget.matchOfferCard.matching-popover"),style:fe(_(Q))},[e.user?(o(),d(S,{key:0},[R(b(e.matchOffer.percentage),1)],64)):(o(),d("i",pt)),ht],12,ut)])])])])])],10,Ne)}}}),F=w({props:{hideBorder:null},setup(e){return(s,n)=>(o(),d("div",{class:ee(["py-3 position-relative",{"border-bottom":!e.hideBorder}])},[we(s.$slots,"default")],2))}}),_t={class:"mb-2"},mt={class:"fs-16 fw-bold"},gt={class:"btn btn-dropdown ps-3 text-start w-100 filter-remote__dropdown-toggle",type:"button",id:"btn_remote","data-bs-toggle":"dropdown","aria-expanded":"false"},yt={class:"dropdown-menu w-100","aria-labelledby":"btn_remote"},bt=t("span",{class:"dropdown-item"},"Full remote",-1),$t=[bt],vt=t("span",{class:"dropdown-item"},"Hybrid ",-1),Ot=[vt],kt=t("span",{class:"dropdown-item"},"Digital Nomad",-1),St=[kt],qt={class:"mb-0"},Et=["onClick"],wt=t("i",{class:"fas fa-times ms-1"},null,-1),jt=w({emits:["updateApiQuery"],setup(e,{emit:s}){const n=K();let a=W([]);const h="remote";if(n.query.remote){let l=[];typeof n.query.remote=="string"?l.push(n.query.remote):l=n.query.remote,a.splice(0,0,...l)}he(()=>{[].slice.call(document.querySelectorAll(".filter-remote__dropdown-toggle")).map(function(i){return new Te(i)})});const f=async l=>{let i=Object.assign({},n.query);a.indexOf(l)===-1?(a.push(l),i[h]=a.toString()):(a.splice(l,1),a.length==0?delete i[h]:i[h]=a.toString()),u()},m=l=>{let i=Object.assign({},n.query);const r=a.indexOf(l);a.splice(r,1),a.length==0?delete i[h]:i[h]=a.toString(),u()},u=async l=>{s("updateApiQuery",h,a)};return(l,i)=>{const r=C("t");return o(),x(F,null,{default:I(()=>[t("p",_t,[c(t("span",mt,null,512),[[r,"searchEngine.filters.remote.title"]])]),c(t("button",gt,null,512),[[r,"searchEngine.filters.select"]]),t("ul",yt,[t("li",{class:"clickable",onClick:i[0]||(i[0]=g=>f("full_remote"))},$t),t("li",{class:"clickable",onClick:i[1]||(i[1]=g=>f("hybrid"))},Ot),t("li",{class:"clickable",onClick:i[2]||(i[2]=g=>f("nomad"))},St)]),c(t("p",qt,[(o(!0),d(S,null,T(_(a),(g,E)=>(o(),d("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:E,onClick:Q=>m(g)},[R(b(l.$t(`searchEngine.filters.remote.${g}`))+" ",1),wt],8,Et))),128))],512),[[$,_(a).length!=0]])]),_:1})}}}),At=w({data(){return{lang:"",search:"",awaitingSearch:!1,results:[],optionsActives:[[]],selectedOptionsActives:[],open:!1}},directives:{clickOutside:je.directive,debounce:Ae.exports.getDirective("3")},props:{options:{type:Array,default:[]},values:{type:Array,default:[]},propertyToValidate:{type:String,default:"_id"},propertyName:{type:String,default:"name"},placeholder:{type:String,default:""},requestLevel:{type:Array,default:[]},replaceURL:{type:String,default:":id"},attrToReplaceRequestURL:{type:String,default:"_id"},searchURL:{type:String,default:"/locations/searchLocation/"},allItems:{type:Array,default:[]},allItemsSelectable:{type:Boolean,default:!1},saveObject:{type:Boolean,default:!1},closeOnSaveSearched:{type:Boolean,default:!1}},watch:{options:function(e){this.optionsActives[0]=e}},computed:ie(V({},te("auth",["userData"])),{itemsList(){return this.optionsActives[this.level-1]},level(){return this.optionsActives.length},selectedOptionActive(){return this.level<=1?{}:this.selectedOptionsActives[this.level-2]}}),mounted(){this.lang=this.userData.language?this.userData.language:"en",Array.prototype.forEach.call(document.querySelectorAll(".custom-scroll"),e=>new ye(e)),this.optionsActives[0]=this.options},methods:{openOptions(){this.open=!0},closeOptions(){this.open=!1},scrollToTop(){Array.prototype.forEach.call(document.querySelectorAll("#searchable-list__content-scroll .simplebar-content-wrapper"),e=>e.scrollTop=0)},validateClassOrder1(e){return this.allItems.includes(e[this.propertyName])||this.allItems.includes(e==null?void 0:e.name_en)||this.allItems.includes(e==null?void 0:e._id)},fetchResults(){this.axios.get(this.searchURL+this.search,{params:{lang:this.lang}}).then(e=>{this.results=(e==null?void 0:e.data)?e.data:[]}).then(()=>{Array.prototype.forEach.call(document.querySelectorAll(".searched-scroll"),e=>new ye(e))})},validateSearchedItem(e,s){return this.results.length==1?this.values[this.values.length-1].includes(e[this.propertyToValidate].toString()):this.values[s].includes(e[this.propertyToValidate].toString())},closeSearchedList(){this.search="",this.results=[]},async clickItem(e){if(this.requestLevel.length>this.level-1){if(e.subMenu){const n=e.subMenu;this.optionsActives.push(n)}else{const n=this.requestLevel[this.level-1].replace(this.replaceURL,e[this.attrToReplaceRequestURL]);await this.axios.get(n,{params:{lang:this.lang}}).then(a=>{const h=a.data;this.optionsActives.push(h)})}let s=Object.assign({},e);delete s.subMenu,this.selectedOptionsActives.push(s),this.scrollToTop()}else this.saveData(e)},returnTitleName(e){return this.level<=1?this.returnNameItem(e):this.returnNameItem(this.selectedOptionActive)},returnNameItem(e){let s="";return e&&(e.hasOwnProperty(this.propertyName)?s=e[this.propertyName]:(e==null?void 0:e.name_fr)&&this.lang=="fr"?s=e.name_fr:(e==null?void 0:e.name_en)&&this.lang=="en"?s=e.name_en:(e==null?void 0:e.name_es)&&this.lang=="es"&&(s=e.name_es)),s},returnLevel(){this.optionsActives.pop(),this.selectedOptionsActives.pop()},saveData(e){let s=this.selectedOptionsActives;s.push(e),this.saveObject&&(s=e),this.$emit("selectOption",s)},saveSearched(e,s){this.closeOnSaveSearched&&this.closeSearchedList(),this.$emit("selectSearchedOption",e,s)}}}),Lt={class:"searchable-list position-relative"},Ct=["placeholder"],Tt={class:"position-absolute w-100 bg-white",style:{"z-index":"1"}},Dt={key:0,class:"list-group searched-scroll",style:{height:"250px",overflow:"auto"}},Nt=["onClick"],Rt={class:"ms-2 me-auto"},It=t("i",{class:"far fa-square"},null,-1),xt=[It],Ft=t("i",{class:"fas fa-check-square"},null,-1),Qt=[Ft],Ut=["id"],Bt=t("span",{class:"ps-3 pe-2"},[t("i",{class:"far fa-angle-left"})],-1),Vt={class:"ms-2 me-auto"},Mt={key:0,class:"order-12 list-group-item d-flex justify-content-between align-items-start mb-1 border-0 bg-light-gray ps-1 clickable"},Jt=t("i",{class:"far fa-angle-left"},null,-1),Yt=[Jt],Pt=["onClick"],zt={class:"ms-2 me-auto"},Ht=t("i",{class:"far fa-square"},null,-1),Gt=[Ht],Kt=t("i",{class:"fas fa-check-square"},null,-1),Wt=[Kt],Xt=["onClick"],Zt={class:"ms-2 me-auto"},es=t("i",{class:"far fa-square"},null,-1),ts=[es],ss=t("i",{class:"fas fa-check-square"},null,-1),ns=[ss],as=t("i",{class:"far fa-angle-right"},null,-1),is=[as];function ls(e,s,n,a,h,f){const m=C("debounce"),u=C("click-outside");return c((o(),d("div",Lt,[c(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=l=>e.search=l),class:"form-control searchable-list__input mb-1",placeholder:e.placeholder,onFocus:s[1]||(s[1]=(...l)=>e.openOptions&&e.openOptions(...l))},null,40,Ct),[[le,e.search],[m,e.fetchResults,"1s"]]),c(t("div",Tt,[e.results.length!=0?(o(),d("ul",Dt,[(o(!0),d(S,null,T(e.results,(l,i)=>(o(),d(S,{key:"results-"+i},[(o(!0),d(S,null,T(l,(r,g)=>c((o(),d("li",{class:"list-group-item d-flex justify-content-between align-items-start mb-1 border-0 bg-light-gray ps-1 clickable",key:`results-index${i}${g}`,onClick:E=>e.saveSearched(r,i)},[t("div",Rt,b(e.returnNameItem(r)),1),c(t("span",null,xt,512),[[$,!e.validateSearchedItem(r,i)]]),c(t("span",null,Qt,512),[[$,e.validateSearchedItem(r,i)]])],8,Nt)),[[$,l]])),128))],64))),128))])):A("",!0)],512),[[$,e.results.length!=0],[u,e.closeSearchedList]]),t("div",{class:ee(["searchable-list__options",{open:e.open}])},[t("ul",{id:e.open?"searchable-list__content-scroll":"",class:"list-group custom-scroll",style:{height:"100%",overflow:"auto"}},[e.open?(o(),d(S,{key:0},[e.allItems.length==0&&e.level>1?(o(),d("li",{key:0,class:"order-1 list-group-item d-flex justify-content-between align-items-start mb-1 border-0 bg-light-gray ps-1 clickable",onClick:s[2]||(s[2]=(...l)=>e.returnLevel&&e.returnLevel(...l))},[Bt,t("div",Vt,b(e.returnNameItem(e.selectedOptionsActives[e.level-2])),1)])):A("",!0),(o(!0),d(S,null,T(e.itemsList,(l,i)=>(o(),d(S,{key:"list-"+i},[l&&e.validateClassOrder1(l)?(o(),d("li",Mt,[e.level>1?(o(),d("span",{key:0,class:"ps-3 pe-2",onClick:s[3]||(s[3]=(...r)=>e.returnLevel&&e.returnLevel(...r))},Yt)):A("",!0),t("div",{class:"d-flex flex-grow-1",onClick:r=>e.saveData(l)},[t("div",zt,b(e.returnTitleName(l)),1),c(t("span",null,Gt,512),[[$,e.allItemsSelectable&&!e.values[e.level-1].includes(l[e.propertyToValidate].toString())]]),c(t("span",null,Wt,512),[[$,e.allItemsSelectable&&e.values[e.level-1].includes(l[e.propertyToValidate].toString())]])],8,Pt)])):l&&!e.validateClassOrder1(l)?(o(),d("li",{key:1,class:"order-1 list-group-item d-flex justify-content-between align-items-start mb-1 border-0 bg-light-gray ps-1 clickable",onClick:r=>e.clickItem(l)},[t("div",Zt,b(e.returnNameItem(l)),1),c(t("span",null,ts,512),[[$,e.requestLevel.length==e.level-1&&!e.values[e.level-1].includes(l[e.propertyToValidate].toString())]]),c(t("span",null,ns,512),[[$,e.requestLevel.length==e.level-1&&e.values[e.level-1].includes(l[e.propertyToValidate].toString())]]),c(t("span",null,is,512),[[$,e.requestLevel.length!=e.level-1]])],8,Xt)):A("",!0)],64))),128))],64)):A("",!0)],8,Ut)],2)],512)),[[u,e.closeOptions]])}var X=U(At,[["render",ls]]);const os=w({components:{FilterLayout:F,SearchableList:X},data(){return{options:[],filtersNames:[],filters:[]}},created(){if(this.axios.get("/locations/getContinents").then(e=>{this.options=e.data}),this.$route.query.locations){let e=[];typeof this.$route.query.locations=="string"?e.push(this.$route.query.locations):e=this.$route.query.locations,this.filters=this.filters.concat(e)}this.filters.length>0&&this.axios.get("/locations/by-ids",{params:{locations:this.filters}}).then(e=>{let s=[].concat(e.data.contients,e.data.countries,e.data.regions,e.data.cities);this.filtersNames=s})},methods:{async filter(e){let s=Object.assign({},this.$route.query);const n=this.filters.indexOf(e._id.toString());n===-1?(this.filters.push(e._id.toString()),s.locations=this.filters.toString(),this.filtersNames.push(e)):(this.filters.splice(n,1),this.filtersNames=this.filtersNames.filter(a=>a._id!=e._id&&a.property_name!=e.property_name),this.filters.length==0?delete s.locations:s.locations=this.filters.toString()),this.$emit("updateApiQuery","locations",this.filters)},save_data(e){const s=e.pop();this.filter(s)},save_searched_data(e){this.filter(e)},removeFilter(e){this.filter(e)}}}),rs={class:"mb-2"},cs={class:"fs-16 fw-bold"},ds={class:"mb-0"},us=["onClick"],ps=t("i",{class:"fas fa-times ms-1"},null,-1);function hs(e,s,n,a,h,f){const m=j("SearchableList"),u=j("FilterLayout"),l=C("t");return o(),x(u,null,{default:I(()=>[t("p",rs,[c(t("span",cs,null,512),[[l,"searchEngine.filters.location.title"]])]),O(m,{options:e.options,requestLevel:["/locations/continent/:id/countries","/locations/country/:id/regions","/locations/region/:id/cities"],allItems:["Worldwide","All countries","All location_regions","All location_cities"],allItemsSelectable:!0,values:[e.filters,e.filters,e.filters,e.filters],placeholder:e.$t("searchEngine.filters.searchOrSelect"),closeOnSaveSearched:!1,onSelectOption:e.save_data,onSelectSearchedOption:e.save_searched_data},null,8,["options","values","placeholder","onSelectOption","onSelectSearchedOption"]),c(t("p",ds,[(o(!0),d(S,null,T(e.filtersNames,(i,r)=>(o(),d("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_remote-"+r,onClick:g=>e.removeFilter(i)},[R(b(i.name)+" ",1),ps],8,us))),128))],512),[[$,e.filtersNames.length!=0]])]),_:1})}var fs=U(os,[["render",hs]]);const _s=w({components:{FilterLayout:F,SearchableList:X},data(){return{options:[],filter_name:"job_reference",filterObjs:[],job_reference:[],lang:"fr"}},created(){let e=window.localStorage.getItem("userLang");if(e?this.lang=window.localStorage.getItem("userLang"):(e=navigator.language,e.includes("es")?this.lang="es":e.includes("fr")?this.lang="fr":this.lang="en"),this.axios.get("/job-reference/categories").then(s=>{this.options=s.data}),this.$route.query.job_reference)if(typeof this.$route.query.job_reference=="string"){const s=[];s.push(this.$route.query.job_reference),this.job_reference=s}else this.job_reference=this.$route.query.job_reference;this.axios.get("/job-reference/by-ids",{params:{job_reference:this.job_reference}}).then(s=>{this.filterObjs=s.data})},methods:{async filter(e){let s=Object.assign({},this.$route.query);const n=this.job_reference.indexOf(e._id.toString());n===-1?(this.job_reference.push(e._id.toString()),s[this.filter_name]=this.job_reference.toString(),this.filterObjs.push(e)):(this.job_reference.splice(n,1),this.filterObjs=this.filterObjs.filter(a=>a._id!=e._id),this.job_reference.length==0?delete s[this.filter_name]:s[this.filter_name]=this.job_reference.toString()),this.$emit("updateApiQuery",this.filter_name,this.job_reference)}}}),ms={class:"mb-2"},gs={class:"fs-16 fw-bold"},ys={class:"mb-0"},bs=["onClick"],$s=t("i",{class:"fas fa-times ms-1"},null,-1);function vs(e,s,n,a,h,f){const m=j("SearchableList"),u=j("FilterLayout"),l=C("t");return o(),x(u,null,{default:I(()=>[t("p",ms,[c(t("span",gs,null,512),[[l,"searchEngine.filters.job_refence.title"]])]),O(m,{saveObject:!0,options:e.options,values:[[],[],e.job_reference],requestLevel:["/job-reference/subcategory/:id/categories","/job-reference/reference/:id/subcategory"],allItemsSelectable:!1,placeholder:e.$t("searchEngine.filters.searchOrSelect"),searchURL:"/job-reference/searchJobreference/",onSelectOption:e.filter,onSelectSearchedOption:e.filter},null,8,["options","values","placeholder","onSelectOption","onSelectSearchedOption"]),c(t("p",ys,[(o(!0),d(S,null,T(e.filterObjs,i=>(o(),d("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_JR-"+i._id,onClick:r=>e.filter(i)},[c(t("span",null,b(i.name_fr),513),[[$,e.lang=="fr"]]),c(t("span",null,b(i.name_en),513),[[$,e.lang=="en"]]),c(t("span",null,b(i.name_es),513),[[$,e.lang=="es"]]),$s],8,bs))),128))],512),[[$,e.filterObjs.length!=0]])]),_:1})}var Os=U(_s,[["render",vs]]);const ks=w({components:{FilterLayout:F,SearchableList:X},data(){return{options:[],filter_name:"industries",industries_objs:[],industries:[],lang:"fr"}},created(){if(this.$route.query.industries)if(typeof this.$route.query.industries=="string"){const s=[];s.push(this.$route.query.industries),this.industries=s}else this.industries=this.$route.query.industries;let e=window.localStorage.getItem("userLang");e?this.lang=window.localStorage.getItem("userLang"):(e=navigator.language,e.includes("es")?this.lang="es":e.includes("fr")?this.lang="fr":this.lang="en"),this.axios.get("/industry/categories").then(s=>{this.options=s.data}),this.axios.get("/industry/by-ids",{params:{industries:this.industries}}).then(s=>{this.industries_objs=s.data})},methods:{async filter(e){let s=Object.assign({},this.$route.query);const n=this.industries.indexOf(e._id.toString());n===-1?(this.industries.push(e._id.toString()),s[this.filter_name]=this.industries.toString(),this.industries_objs.push(e)):(this.industries.splice(n,1),this.industries_objs=this.industries_objs.filter(a=>a._id!=e._id),this.industries.length==0?delete s[this.filter_name]:s[this.filter_name]=this.industries.toString()),this.$emit("updateApiQuery",this.filter_name,this.industries)}}}),Ss={class:"mb-2"},qs={class:"fs-16 fw-bold"},Es={class:"mb-0"},ws=["onClick"],js=t("i",{class:"fas fa-times ms-1"},null,-1);function As(e,s,n,a,h,f){const m=j("SearchableList"),u=j("FilterLayout"),l=C("t");return o(),x(u,null,{default:I(()=>[t("p",Ss,[c(t("span",qs,null,512),[[l,"searchEngine.filters.industries.title"]])]),O(m,{options:e.options,values:[[],e.industries],requestLevel:["/industry/:id/categories"],allItems:["All Industries"],allItemsSelectable:!1,placeholder:e.$t("searchEngine.filters.searchOrSelect"),searchURL:"/industry/searchIndustries/",saveObject:!0,onSelectSearchedOption:e.filter,onSelectOption:e.filter},null,8,["options","values","placeholder","onSelectSearchedOption","onSelectOption"]),c(t("p",Es,[(o(!0),d(S,null,T(e.industries_objs,i=>(o(),d("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_industry-"+i._id,onClick:r=>e.filter(i)},[c(t("span",null,b(i.name_fr),513),[[$,e.lang=="fr"]]),c(t("span",null,b(i.name_en),513),[[$,e.lang=="en"]]),c(t("span",null,b(i.name_es),513),[[$,e.lang=="es"]]),js],8,ws))),128))],512),[[$,e.industries_objs.length!=0]])]),_:1})}var Ls=U(ks,[["render",As]]);const Cs=w({components:{FilterLayout:F,SearchableList:X},data(){return{options:[],filter_name:"companies",companies_objs:[],companies:[]}},created(){if(this.axios.get("/company/list/top").then(e=>{this.options=e.data}),this.$route.query.companies)if(typeof this.$route.query.companies=="string"){const e=[];e.push(this.$route.query.companies),this.companies=e}else this.companies=this.$route.query.companies;this.axios.get("/company/list/by-ids",{params:{companies:this.companies}}).then(e=>{this.companies_objs=e.data})},methods:{async filter(e){let s=Object.assign({},this.$route.query);const n=this.companies.indexOf(e._id.toString());n===-1?(this.companies.push(e._id.toString()),s[this.filter_name]=this.companies.toString(),this.companies_objs.push(e)):(this.companies.splice(n,1),this.companies_objs=this.companies_objs.filter(a=>a._id!=e._id),this.companies.length==0?delete s[this.filter_name]:s[this.filter_name]=this.companies.toString()),this.$emit("updateApiQuery",this.filter_name,this.companies)}}}),Ts={class:"mb-2"},Ds={class:"fs-16 fw-bold"},Ns={class:"mb-0"},Rs=["onClick"],Is=t("i",{class:"fas fa-times ms-1"},null,-1);function xs(e,s,n,a,h,f){const m=j("SearchableList"),u=j("FilterLayout"),l=C("t");return o(),x(u,null,{default:I(()=>[t("p",Ts,[c(t("span",Ds,null,512),[[l,"searchEngine.filters.company.title"]])]),O(m,{saveObject:!0,options:e.options,requestLevel:[],allItems:[],allItemsSelectable:!1,values:[e.companies],placeholder:e.$t("searchEngine.filters.searchOrSelect"),closeOnSaveSearched:!1,onSelectOption:e.filter,onSelectSearchedOption:e.filter},null,8,["options","values","placeholder","onSelectOption","onSelectSearchedOption"]),c(t("p",Ns,[(o(!0),d(S,null,T(e.companies_objs,i=>(o(),d("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_lang-"+i._id,onClick:r=>e.filter(i)},[R(b(i.name)+" ",1),Is],8,Rs))),128))],512),[[$,e.companies_objs.length!=0]])]),_:1})}var Fs=U(Cs,[["render",xs]]);const Qs={class:"mb-2"},Us={class:"fs-16 fw-bold"},Bs={class:"btn btn-dropdown ps-3 text-start w-100",type:"button",id:"btn_contract","data-bs-toggle":"dropdown","aria-expanded":"false"},Vs={class:"dropdown-menu w-100","aria-labelledby":"btn_contract"},Ms=["onClick"],Js={class:"dropdown-item"},Ys={class:"mb-0"},Ps=["onClick"],zs=R(),Hs=t("i",{class:"fas fa-times ms-1"},null,-1),Gs=w({emits:["updateApiQuery"],setup(e,{emit:s}){se();const n=K();let a=W([]);const h=["CONTRACT_DEF","CONTRACT_INDEF","CONTRACT_FREE","CONTRACT_PART"],f="contract";if(n.query.contract){let i=[];typeof n.query.contract=="string"?i.push(n.query.contract):i=n.query.contract,a.splice(0,0,...i)}const m=async i=>{let r=Object.assign({},n.query);const g=a.indexOf(i);g===-1?(a.push(i),r[f]=a.toString()):(a.splice(g,1),a.length==0?delete r[f]:r[f]=a.toString()),l()},u=i=>{let r=Object.assign({},n.query);const g=a.indexOf(i);a.splice(g,1),a.length==0?delete r[f]:r[f]=a.toString(),l()},l=async i=>{s("updateApiQuery",f,a)};return(i,r)=>{const g=C("t");return o(),x(F,{id:"filter-contrat"},{default:I(()=>[t("p",Qs,[c(t("span",Us,null,512),[[g,"searchEngine.filters.contract.title"]])]),c(t("button",Bs,null,512),[[g,"searchEngine.filters.select"]]),t("ul",Vs,[(o(),d(S,null,T(h,E=>t("li",{class:"clickable",onClick:Q=>m(E)},[c(t("span",Js,null,512),[[g,`searchEngine.filters.contract.${E}`]])],8,Ms)),64))]),c(t("p",Ys,[(o(!0),d(S,null,T(_(a),(E,Q)=>(o(),d("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:Q,onClick:ae=>u(E)},[c(t("span",null,null,512),[[g,`searchEngine.filters.contract.${E}`]]),zs,Hs],8,Ps))),128))],512),[[$,_(a).length!=0]])]),_:1})}}}),Ks={class:"mb-2"},Ws={class:"fs-16 fw-bold"},Xs={class:"custom-scroll",style:{"max-height":"205px"}},Zs={class:"form-check mt-2"},en=["checked","id","value","onClick"],tn=["for"],sn=w({emits:["updateApiQuery"],setup(e,{emit:s}){se();const n=K(),a=["long_remote_period","four_day_week","unlimited_paid_time_off","extra_paid_time_off","flex_working_hours","time_to_work_on_a_side_project","additional_parental_leave","open_to_slashing","open_to_long_term_freelancing","open_to_part-time","pet_friendly"];let h=W([]);const f="flexibility";if(n.query.flexibility){let u=[];typeof n.query.flexibility=="string"?u.push(n.query.flexibility):u=n.query.flexibility,h.splice(0,0,...u)}const m=async u=>{let l=Object.assign({},n.query);const i=h.indexOf(u);i===-1?(h.push(u),l[f]=h.toString()):(h.splice(i,1),h.length==0?delete l[f]:l[f]=h.toString()),s("updateApiQuery",f,h)};return(u,l)=>{const i=C("t");return o(),x(F,null,{default:I(()=>[t("p",Ks,[c(t("span",Ws,null,512),[[i,"searchEngine.filters.flexibility.title"]]),t("span",{class:ee(["badge rounded-pill bg-blue-app-20 text-blue-app fs-12 ms-2",_(h).length>9?"px-1":"px-2"])},b(_(h).length),3)]),t("div",Xs,[(o(),d(S,null,T(a,r=>t("div",Zs,[t("input",{class:"form-check-input",checked:_(h).includes(r),type:"checkbox",id:r,value:r,onClick:g=>m(r)},null,8,en),c(t("label",{class:"form-check-label",for:r},null,8,tn),[[i,`searchEngine.filters.flexibility.${r}`]])])),64))])]),_:1})}}}),nn={class:"mb-2"},an={class:"fs-16 fw-bold"},ln={class:"btn btn-dropdown ps-3 text-start w-100",type:"button",id:"btn_experience","data-bs-toggle":"dropdown","aria-expanded":"false"},on={class:"dropdown-menu w-100","aria-labelledby":"btn_experience"},rn=["onClick"],cn={class:"dropdown-item"},dn={class:"mb-0"},un=["onClick"],pn=R(),hn=t("i",{class:"fas fa-times ms-1"},null,-1),fn=w({emits:["updateApiQuery"],setup(e,{emit:s}){se();const n=K();let a=W([]);const h=["internships","entry_level","junior","mid_level","senior","expert"],f="experience";if(n.query.experience){let i=[];typeof n.query.experience=="string"?i.push(n.query.experience):i=n.query.experience,a.splice(0,0,...i)}const m=async i=>{let r=Object.assign({},n.query);const g=a.indexOf(i);g===-1?(a.push(i),r[f]=a.toString()):(a.splice(g,1),a.length==0?delete r[f]:r[f]=a.toString()),l()},u=i=>{let r=Object.assign({},n.query);const g=a.indexOf(i);a.splice(g,1),a.length==0?delete r[f]:r[f]=a.toString(),l()},l=async i=>{s("updateApiQuery",f,a)};return(i,r)=>{const g=C("t");return o(),x(F,null,{default:I(()=>[t("p",nn,[c(t("span",an,null,512),[[g,"searchEngine.filters.experience.title"]])]),c(t("button",ln,null,512),[[g,"searchEngine.filters.select"]]),t("ul",on,[(o(),d(S,null,T(h,E=>t("li",{class:"clickable",onClick:Q=>m(E)},[c(t("span",cn,null,512),[[g,`searchEngine.filters.experience.${E}`]])],8,rn)),64))]),c(t("p",dn,[(o(!0),d(S,null,T(_(a),(E,Q)=>(o(),d("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:Q,onClick:ae=>u(E)},[c(t("span",null,null,512),[[g,`searchEngine.filters.experience.${E}`]]),pn,hn],8,un))),128))],512),[[$,_(a).length!=0]])]),_:1})}}}),_n=w({components:{FilterLayout:F,SearchableList:X},data(){return{options:[],filter_name:"languages",filter_objs:[],languages:[],lang:"fr"}},created(){let e=window.localStorage.getItem("userLang");if(e?this.lang=window.localStorage.getItem("userLang"):(e=navigator.language,e.includes("es")?this.lang="es":e.includes("fr")?this.lang="fr":this.lang="en"),this.axios.get("/language/getLanguages").then(s=>{this.options=s.data}),this.$route.query.languages)if(typeof this.$route.query.languages=="string"){const s=[];s.push(this.$route.query.languages),this.languages=s}else this.languages=this.$route.query.languages;this.axios.get("/language/by-ids",{params:{languages:this.languages}}).then(s=>{this.filter_objs=s.data})},methods:{async filter(e){let s=Object.assign({},this.$route.query);const n=this.languages.indexOf(e._id.toString());n===-1?(this.languages.push(e._id.toString()),s[this.filter_name]=this.languages.toString(),this.filter_objs.push(e)):(this.languages.splice(n,1),this.filter_objs=this.filter_objs.filter(a=>a._id!=e._id),this.languages.length==0?delete s[this.filter_name]:s[this.filter_name]=this.languages.toString()),this.$emit("updateApiQuery",this.filter_name,this.languages)}}}),mn={class:"mb-2"},gn={class:"fs-16 fw-bold"},yn={class:"mb-0"},bn=["onClick"],$n=t("i",{class:"fas fa-times ms-1"},null,-1);function vn(e,s,n,a,h,f){const m=j("SearchableList"),u=j("FilterLayout"),l=C("t");return o(),x(u,null,{default:I(()=>[t("p",mn,[c(t("span",gn,null,512),[[l,"searchEngine.filters.languages.title"]])]),O(m,{saveObject:!0,options:e.options,requestLevel:[],allItems:[],allItemsSelectable:!1,values:[e.languages],placeholder:e.$t("searchEngine.filters.searchOrSelect"),closeOnSaveSearched:!1,onSelectOption:e.filter,onSelectSearchedOption:e.filter},null,8,["options","values","placeholder","onSelectOption","onSelectSearchedOption"]),c(t("p",yn,[(o(!0),d(S,null,T(e.filter_objs,i=>(o(),d("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_lang-"+i._id,onClick:r=>e.filter(i)},[c(t("span",null,b(i.name_fr),513),[[$,e.lang=="fr"]]),c(t("span",null,b(i.name_en),513),[[$,e.lang=="en"]]),c(t("span",null,b(i.name_es),513),[[$,e.lang=="es"]]),$n],8,bn))),128))],512),[[$,e.filter_objs.length!=0]])]),_:1})}var On=U(_n,[["render",vn]]);const kn={class:"mb-2"},Sn={class:"fs-16 fw-bold"},qn={class:"btn btn-dropdown ps-3 text-start w-100 mb-2",type:"button",id:"btn_currency","data-bs-toggle":"dropdown","aria-expanded":"false"},En=t("span",null,null,-1),wn={class:"dropdown-menu w-100","aria-labelledby":"btn_currency"},jn=t("span",{class:"dropdown-item"},"Euros (\u20AC) / an",-1),An=[jn],Ln=t("span",{class:"dropdown-item"},"USD ($)",-1),Cn=[Ln],Tn={class:"input-group mb-2 position-relative"},Dn=["placeholder"],Nn={class:"position-absolute",style:{right:"15px",top:"50%",transform:"translateY(-50%)"}},Rn={class:"my-1"},In={class:"input-group mb-3 position-relative"},xn=["min","placeholder"],Fn={class:"position-absolute",style:{right:"15px",top:"50%",transform:"translateY(-50%)"}},Qn=w({emits:["updateApiQuery"],setup(e,{emit:s}){se();const n=K();let a=W({currency:"Euro",salary_min:null,salary_max:null});const h=N(()=>a.currency=="Euro"?"\u20AC":"$");n.query.currency&&(a.currency=n.query.currency.toString()),n.query.salary_min&&(a.salary_min=n.query.salary_min.toString()),n.query.salary_max&&(a.salary_max=n.query.salary_max.toString());const f=u=>{a.currency=u,m("currency")},m=async u=>{let l=Object.assign({},n.query);!a[u]||a[u].length==0?delete l[u]:l[u]=a[u],u!="currency"&&s("updateApiQuery","currency",a.currency),s("updateApiQuery",u,a[u])};return(u,l)=>{const i=C("t");return o(),x(F,{hideBorder:!0},{default:I(()=>[t("p",kn,[c(t("span",Sn,null,512),[[i,"searchEngine.filters.salary.title"]])]),t("button",qn,[En,R(" "+b(_(a).currency=="Euro"?"Euros (\u20AC) / an":"USD ($)"),1)]),t("ul",wn,[t("li",{class:"clickable",onClick:l[0]||(l[0]=r=>f("EUR"))},An),t("li",{class:"clickable",onClick:l[1]||(l[1]=r=>f("USD"))},Cn)]),t("div",Tn,[c(t("input",{type:"number",class:"form-control mb-1","onUpdate:modelValue":l[2]||(l[2]=r=>_(a).salary_min=r),onBlur:l[3]||(l[3]=r=>m("salary_min")),placeholder:u.$t("searchEngine.filters.salary.min")},null,40,Dn),[[le,_(a).salary_min]]),t("span",Nn,b(_(h)),1)]),c(t("p",Rn,null,512),[[i,"searchEngine.filters.salary.to"]]),t("div",In,[c(t("input",{type:"number",class:"form-control mb-1","onUpdate:modelValue":l[4]||(l[4]=r=>_(a).salary_max=r),min:_(a).salary_min?_(a).salary_min:"1000",onBlur:l[5]||(l[5]=r=>m("salary_max")),placeholder:u.$t("searchEngine.filters.salary.max")},null,40,xn),[[le,_(a).salary_max]]),t("span",Fn,b(_(h)),1)])]),_:1})}}});const Un={id:"search-engine__filters",class:"bg-white p-3 card"},Bn={class:"filters__header border-bottom"},Vn={class:"mb-2"},Mn={class:"fs-16 fw-bold ff-nexa"},Jn={class:"text-center filters__btn-filter"},Yn={key:0,class:"btn btn-primary w-100"},Pn=t("span",null," 4 204 ",-1),zn={key:1,class:"btn btn-primary w-100"},Hn=w({emits:["updateApiQuery","clearApiQuery"],setup(e,{emit:s}){const n=window.localStorage.getItem("accessToken"),a=(f,m)=>{s("updateApiQuery",f,m)},h=()=>{s("clearApiQuery")};return(f,m)=>{const u=j("i18n-t"),l=C("t");return o(),d("div",Un,[t("div",Bn,[t("p",Vn,[c(t("span",Mn,null,512),[[l,"searchEngine.filters.title"]]),c(t("span",{class:"fs-12 float-end clickable",onClick:h},null,512),[[l,"searchEngine.filters.erase"]])])]),O(jt,{onUpdateApiQuery:a}),O(fs,{onUpdateApiQuery:a}),O(Os,{onUpdateApiQuery:a}),O(Ls,{onUpdateApiQuery:a}),O(Fs,{onUpdateApiQuery:a}),O(Gs,{onUpdateApiQuery:a}),O(sn,{onUpdateApiQuery:a}),O(fn,{onUpdateApiQuery:a}),O(On,{onUpdateApiQuery:a}),O(Qn,{onUpdateApiQuery:a}),t("div",Jn,[_(n)?c((o(),d("button",zn,null,512)),[[l,"searchEngine.filters.save_filters"]]):(o(),d("button",Yn,[O(u,{keypath:"searchEngine.filters.filter"},{cant:I(()=>[Pn]),_:1})]))])])}}});const Gn=w({name:"SearchEngine",components:{MatchOfferCard:ft,Filters:Hn},props:{filters:{type:Object,required:!1}},setup(){function e(s){let n=s;return function(a,h){clearTimeout(n),n=setTimeout(()=>{a()},h||500)}}return{debounce:e(null)}},data(){return{matchOfferType:M.Opportunity,joboffers:[],query_api:{sort:"Date"},non_array_properties:["sort","currency","salary_min","salary_max"],can_scroll:!0,page:1,loading:!0,loading_more:!1}},computed:V(V({},te("auth",["userData","accessToken"])),te("talent",["favorite_data"])),watch:{query_api:{handler:function(e){this.update_url_query(e),this.debounce(this.fetchOffers,3e3)},deep:!0}},created(){this.setLayout("BaseLayout"),this.fetchOffers()},mounted(){if(this.$route.query){const e=this.$route.query;for(const s in e)if(e.hasOwnProperty(s))if(this.non_array_properties.includes(s))this.query_api[s]=e[s];else{let n=[];Array.isArray(e[s])?n=e[s]:n.push(e[s]),this.query_api[s]=n}}},methods:ie(V({},_e(["setLayout"])),{sort(e){this.query_api.sort=e},update_query_api(e,s){!s||s.length==0?delete this.query_api[e]:this.query_api[e]=s},fetchOffers(){this.axios({method:"get",url:"/api/offer",baseURL:"https://api-feather.herokuapp.com",params:this.query_api}).then(e=>{this.joboffers=e.data}).finally(()=>{this.loading=!1,this.loading_more=!1,this.can_scroll=!0;const e=document.getElementById("loading");e&&(e.style.display="none")})},openMatch(e){this.$router.push({name:"TalentOpportunity",params:{id:e._id}})},update_url_query(e){this.$router.push({query:e}).catch(s=>{s.name!=="NavigationDuplicated"&&console.log(s)})},clear_api_query(){this.query_api={sort:"Date"},this.update_url_query(this.query_api)},show_more(){if(this.can_scroll){this.can_scroll=!1,this.loading_more=!0;let e=this.page+1;this.page=e,this.update_query_api("page",e)}}})}),Kn={class:"container"},Wn={class:"row gx-3"},Xn={class:"col-12 col-lg-9 offset-lg-3 ff-nexa"},Zn={class:"fw-medium mb-2 ff-nexa-bold"},ea={class:"d-flex"},ta={class:"flex-grow-1"},sa={class:"mb-1 pt-1"},na={class:""},aa={class:"row"},ia={for:"sort",class:"col col-form-label p-0 pt-1"},la={class:"col px-0 position-relative"},oa={class:"btn btn-dropdown ps-3 text-start py-1 bg-transparent text-primary border-0",type:"button",id:"btn_searchEngine","data-bs-toggle":"dropdown","aria-expanded":"false"},ra={class:"dropdown-menu w-100","aria-labelledby":"btn_searchEngine"},ca=t("span",{class:"dropdown-item"},"Date",-1),da=[ca],ua=t("span",{class:"dropdown-item"},"Points ",-1),pa=[ua],ha={class:"col-12 col-lg-3 my-2"},fa={class:"col-12 col-lg-9"},_a={key:0,class:"d-flex flex-column"},ma={key:1,class:"col-12 col-lg-12 d-flex justify-content-center align-items-center"},ga=t("div",{class:"spinner-border",role:"status"},null,-1),ya=[ga],ba={key:1,class:"text-center mt-5 fw-medium"},$a={key:1,class:"col-12 col-lg-9 d-flex justify-content-center align-items-center"},va=t("div",{class:"spinner-border",role:"status"},null,-1),Oa=[va];function ka(e,s,n,a,h,f){const m=j("i18n-t"),u=j("Filters"),l=j("MatchOfferCard"),i=C("t");return o(),d("div",Kn,[t("div",Wn,[t("div",Xn,[t("p",Zn,[O(m,{keypath:"searchEngine.cantJobs"},{cant:I(()=>[t("span",null,b(e.joboffers.length),1)]),_:1})]),t("div",ea,[t("div",ta,[c(t("p",sa,null,512),[[i,"searchEngine.cantJobs_subtitle"]])]),t("div",na,[t("div",aa,[c(t("label",ia,null,512),[[i,"searchEngine.sort"]]),t("div",la,[t("button",oa,b(e.query_api.sort),1),t("ul",ra,[t("li",{class:"clickbale",onClick:s[0]||(s[0]=r=>e.sort("date"))},da),t("li",{class:"clickbale",onClick:s[1]||(s[1]=r=>e.sort("points"))},pa)])])])])])]),t("div",ha,[O(u,{onUpdateApiQuery:e.update_query_api,onClearApiQuery:e.clear_api_query},null,8,["onUpdateApiQuery","onClearApiQuery"])]),t("div",fa,[e.loading?A("",!0):(o(),d("div",_a,[e.joboffers.length>0?(o(),d(S,{key:0},[(o(!0),d(S,null,T(e.joboffers,r=>(o(),x(l,{"match-offer":r,"match-offer-type":e.matchOfferType,class:"my-2 new-opportunity",key:r._id,onClick:g=>e.openMatch(r)},null,8,["match-offer","match-offer-type","onClick"]))),128)),e.can_scroll?c((o(),d("p",{key:0,class:"text-center mt-2 text-decoration-underline clickable",onClick:s[2]||(s[2]=(...r)=>e.show_more&&e.show_more(...r))},null,512)),[[i,"searchEngine.show_more"]]):A("",!0),e.loading_more?(o(),d("div",ma,ya)):A("",!0)],64)):c((o(),d("p",ba,null,512)),[[i,"searchEngine.not_found"]])])),e.loading?(o(),d("div",$a,Oa)):A("",!0)])])])}var Sa=U(Gn,[["render",ka]]);const qa=w({name:"Opportunities",components:{SearchEngine:Sa},computed:V({},te("auth",["userData"])),beforeCreate(){const e=document.getElementById("loading");e&&(e.style.display="block")},async created(){this.setLayout("BaseLayout"),(!this.userData.filters||this.userData.filters.length===0)&&Object.keys(this.$route.query).length===0&&this.$router.push({name:"TalentSearchBar"})},methods:V({},_e(["setLayout"]))}),Ea={id:"opportunities",class:"my-auto"};function wa(e,s,n,a,h,f){const m=j("search-engine");return o(),d("div",Ea,[O(m)])}var Ia=U(qa,[["render",wa]]);export{Ia as default};
