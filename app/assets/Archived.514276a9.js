var N=Object.defineProperty,O=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var C=(e,t,s)=>t in e?N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,T=(e,t)=>{for(var s in t||(t={}))A.call(t,s)&&C(e,s,t[s]);if(y)for(var s of y(t))L.call(t,s)&&C(e,s,t[s]);return e},E=(e,t)=>O(e,D(t));import{d as w,r as _,g as $,o as i,b as f,e as m,w as d,h as n,i as a,s as R,p as B,ab as u,n as S,aw as U,ac as F,k as I,j as V}from"./vendor.c113d557.js";import{C as x}from"./CardCTA.f48d4ad6.js";import{_ as z,M as H,C as v,U as b,I as M}from"./MatchOfferCard.a307fe28.js";import{g as J,a as Y}from"./utils.8cd98410.js";import{A as g}from"./alertify.5e46eef9.js";import{a as q}from"./index.77b24441.js";import"./bootstrap.bundle.min.65351b1f.js";import"./moment.08a7f518.js";const G={class:"sidebar"},K={class:"me-1"},P={class:"me-2"},Q=R(),W={class:"parrainage__card__text"},X=w({setup(e){return(t,s)=>{const c=_("font-awesome-icon"),r=$("t");return i(),f("div",G,[m(x,{iconName:"user-tie",class:"mb-3 clickeable",btnTo:"/profesional"},{title:d(()=>[n(a("span",K,null,512),[[r,"dashboard.widget.professional.title"]]),a("strong",null,[n(a("span",null,null,512),[[r,"dashboard.widget.professional.titleBold"]])])]),text:d(()=>[n(a("span",null,null,512),[[r,"dashboard.widget.professional.text"]])]),"btn-text":d(()=>[n(a("span",P,null,512),[[r,"dashboard.widget.professional.btn"]]),Q,m(c,{class:"card-cta__btn-icon",icon:"chevron-right"})]),_:1}),m(x,{btnLink:"mailto:",class:"mb-3 clickeable"},{title:d(()=>[a("strong",null,[n(a("span",null,null,512),[[r,"matchDashboard.widget.recommend.title"]])])]),text:d(()=>[n(a("span",W,null,512),[[r,"matchDashboard.widget.recommend.text"]])]),"btn-text":d(()=>[n(a("span",null,null,512),[[r,"matchDashboard.widget.recommend.btn"]])]),_:1})])}}});const Z=w({name:"TalentArchived",components:{SidebarDashboard:X,MatchOfferCard:z},data(){return{matchOfferType:H.Archived,archived:[],scrollOffset:0}},created(){this.setLayout("BaseLayout"),document.addEventListener("scroll",()=>{this.getScrollOffsetFn()})},mounted(){this.fetchMatches()},methods:E(T({},B(["setLayout"])),{getScrollOffsetFn(){const e=document==null?void 0:document.getElementById("nav"),t=e?e.offsetHeight:0;this.scrollOffset=t>0&&window.scrollY>=t?t:0},openMatch(e){this.$router.push({name:"matchOffer",params:{matchId:e.id}})},unarchive(e){this.axios.delete(`match/archive/${e.id}`).then(t=>{e.archived=!1,this.archived=[...this.archived],g.notify(this.$t("dashboard.opportunities.match_unarchived_successfully"),"success",5,()=>{})}).catch(t=>{g.notify(this.$t("dashboard.opportunities.error_unarchiving_match"),"error",5,()=>{})})},fetchMatches(){this.axios.get("/user/archivedMatchList").then(e=>{this.archived=e.data}).catch(e=>{g.notify(this.$t("dashboard.opportunities.error_fetching_matches"),"error",5,()=>{})})},generateMatchOffers(e,t){const s=[];let c=v.NEUTRAL,r=b.NEUTRAL,p=M.SENT;for(let l=0;l<e;l++){const o={};o.id=Y(1,9999999),o.job_offer.name+=l+1,o.percentage=J(65,100),t=="RejectedByCompany"&&(c=v.REJECTED,r=b.INTERESTED),t=="RejectedByUser"&&(c=v.INTERESTED,r=b.INTERESTED,p=M.DECLINE),o.interview=p,o.archived=!0,o.companyInterest=c,o.userInterest=r,s.push(o)}return s}})}),ee={class:"container-fluid"},te={class:"row"},se={class:"col-12 col-lg-9"},ae={class:"d-flex flex-column matchoffers-container"},re={class:"col-12 col-lg-3"};function oe(e,t,s,c,r,p){const l=_("MatchOfferCard"),o=_("sidebar-dashboard"),j=$("t");return i(),f("div",ee,[a("div",te,[a("div",se,[a("div",ae,[e.archived.length>0?(i(),f(u,{key:0},[n(a("h4",{class:S(["sticky-header",{"bg-light":e.scrollOffset>0}]),style:U([`top:${e.scrollOffset}px`])},null,6),[[j,"dashboard.archived.archives"]]),(i(!0),f(u,null,F(e.archived,h=>(i(),f(u,null,[h.archived?(i(),V(l,{"match-offer":h,onUnarchive:k=>e.unarchive(h),onClick:k=>e.openMatch(h),"match-offer-type":e.matchOfferType,class:"my-2",key:h.id},null,8,["match-offer","onUnarchive","onClick","match-offer-type"])):I("",!0)],64))),256))],64)):I("",!0)])]),a("div",re,[m(o)])])])}var _e=q(Z,[["render",oe]]);export{_e as default};
